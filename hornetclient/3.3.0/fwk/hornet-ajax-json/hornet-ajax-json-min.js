YUI.add("hornet-ajax-json",function(e){var a=e.namespace("hornet").Ajax,b=e.Array,d=e.JSON,c={NAME:"hornet-ajax-json",parseResponseData:function(k){var l=false,m={error:false,result:null,errors:[],messages:[]},n=null,i=null,h,j,g;try{n=k;i=d.parse(n);}catch(f){l=true;}if(!i){l=true;}else{m.result=i["RESULTAT"];m.errors=[];h=i["errors"];if(h){m.errors=b(h);}e.each(i["fielderrors"],function(p,o){b.each(b(p),function(q){g=(o)?'<a href="#'+o+'" >'+q+"</a>":q;m.errors.push(g);},this);});m.messages=[];j=i["messages"];if(j){m.messages=b(j);}}if(l){m.error=true;}else{}return m;},submitAJAXJsonRequest:function(h,f){var g=new a(f);g._parseAjaxResponse=function(i){var k=i&&i.responseText,j=c.parseResponseData(k);return j;};return g.sendRequest.apply(g,[h]);}};e.namespace("hornet").AjaxJson=c;e.mix(a,c);},"3.3.0",{requires:["node-base","json","hornet-ajax"]});
